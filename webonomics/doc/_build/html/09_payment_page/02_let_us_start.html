<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>9.2. Let Us Start &#8212; Webonomics 1.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Webonomics 1.0 documentation" href="../index.html" />
    <link rel="up" title="9. Payment Page" href="00_index.html" />
    <link rel="prev" title="9.1. Payment Page" href="01_introduction.html" /> 
  </head>
  <body role="document">
      <div class="header" role="banner"><h1 class="heading"><a href="../index.html">
          <span>Webonomics 1.0 documentation</span></a></h1>
        <h2 class="heading"><span>9.2. Let Us Start</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="01_introduction.html">9.1. Payment Page</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="let-us-start">
<h1>9.2. Let Us Start<a class="headerlink" href="#let-us-start" title="Permalink to this headline">¶</a></h1>
<p>Let us start section wise and complete each of the requirements.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Here you will write php, html and js for <code class="docutils literal"><span class="pre">payment.html</span></code> and <code class="docutils literal"><span class="pre">payment.php</span></code></p>
</div>
<p>Below is the code for the complete page:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset </span><span class="o">=</span> <span class="s">&quot;UTF-8&quot;</span><span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span> Payment Page - MyZone <span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/css&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;css/page.css&quot;</span><span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;js/payment.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;js/jquery-2.2.0.min.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span> 
    <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">spliturl</span> <span class="o">=</span> <span class="nx">url</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="p">);</span>
        <span class="kd">var</span> <span class="nx">prod_name</span> <span class="o">=</span> <span class="nx">spliturl</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
        <span class="kd">var</span> <span class="nx">prod_price</span> <span class="o">=</span> <span class="nx">spliturl</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
        <span class="kd">var</span> <span class="nx">prod_quantity</span> <span class="o">=</span> <span class="nx">spliturl</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
    
        <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;product_name&quot;</span><span class="p">).</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">prod_name</span><span class="p">;</span>
        <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;product_price&quot;</span><span class="p">).</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">prod_price</span><span class="p">;</span>
        <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;product_quantity&quot;</span><span class="p">).</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">prod_quantity</span><span class="p">;</span>
        
        <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;p_name&quot;</span><span class="p">).</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">prod_name</span><span class="p">;</span>
        <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;p_price&quot;</span><span class="p">).</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">prod_price</span><span class="p">;</span>
        <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;p_quantity&quot;</span><span class="p">).</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">prod_quantity</span><span class="p">;</span>
        <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;p_name&quot;</span><span class="p">).</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">prod_name</span><span class="p">;</span>
        <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;p_price&quot;</span><span class="p">).</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">prod_price</span><span class="p">;</span>
        <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;p_quantity&quot;</span><span class="p">).</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">prod_quantity</span><span class="p">;</span>
    <span class="p">});</span>

   <span class="kd">function</span> <span class="nx">calculate</span><span class="p">()</span> <span class="p">{</span>
       <span class="kd">var</span> <span class="nx">quantity</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;qty&#39;</span><span class="p">).</span><span class="nx">value</span><span class="p">;</span>
       <span class="kd">var</span> <span class="nx">price</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;product_price&#39;</span><span class="p">).</span><span class="nx">innerHTML</span><span class="p">;</span>
       <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;total&#39;</span><span class="p">).</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">quantity</span><span class="o">*</span><span class="nx">price</span><span class="p">;</span>
   <span class="p">}</span>

   <span class="kd">function</span> <span class="nx">check_quantity</span><span class="p">()</span> <span class="p">{</span>
       <span class="kd">var</span> <span class="nx">quantity</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;qty&#39;</span><span class="p">).</span><span class="nx">value</span><span class="p">;</span>
       <span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="p">;</span>
       <span class="kd">var</span> <span class="nx">spliturl</span> <span class="o">=</span> <span class="nx">url</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="p">);</span>
       <span class="kd">var</span> <span class="nx">prod_quantity</span> <span class="o">=</span> <span class="nx">spliturl</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
       <span class="k">if</span> <span class="p">(</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">quantity</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">prod_quantity</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span> <span class="p">{</span>
           <span class="nb">window</span><span class="p">.</span><span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;Entered quantity is greater than available with us.&quot;</span><span class="p">);</span>
       <span class="p">}</span>
           
   <span class="p">}</span>

    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">body</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;background-color:#ff3377&quot;</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">h1</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;text-align:center&quot;</span><span class="p">&gt;</span> Welcome to MyZone Payment Page <span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;product_payment&quot;</span><span class="p">&gt;</span>
           <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">b</span><span class="p">&gt;</span>You are placing order for :- <span class="p">&lt;/</span><span class="nt">b</span><span class="p">&gt;&lt;</span><span class="nt">b</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;product_name&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">b</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
           <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">b</span><span class="p">&gt;</span>Cost per piece: Rs. <span class="p">&lt;/</span><span class="nt">b</span><span class="p">&gt;&lt;</span><span class="nt">b</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;product_price&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">b</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
           <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">b</span><span class="p">&gt;</span>Quantity Available: <span class="p">&lt;/</span><span class="nt">b</span><span class="p">&gt;&lt;</span><span class="nt">b</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;product_quantity&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">b</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
   <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
   
   <span class="p">&lt;</span><span class="nt">form</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;payment.php&quot;</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;post&quot;</span><span class="p">&gt;</span>
           <span class="p">&lt;</span><span class="nt">input</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;p_name&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;prod_name&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;hidden&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">input</span><span class="p">&gt;</span>
           <span class="p">&lt;</span><span class="nt">input</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;p_price&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;prod_price&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;hidden&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">input</span><span class="p">&gt;</span>
           <span class="p">&lt;</span><span class="nt">input</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;p_quantity&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;prod_quantity&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;hidden&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">input</span><span class="p">&gt;</span>
           Payment Options : 
           <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;radio&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;cod&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;COD&quot;</span> <span class="na">checked</span><span class="p">&gt;</span> COD <span class="p">&lt;/</span><span class="nt">input</span><span class="p">&gt;</span>
           <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;radio&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;cr&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;CR&quot;</span><span class="p">&gt;</span> Credit Card<span class="p">&lt;/</span><span class="nt">input</span><span class="p">&gt;</span>
           <span class="p">&lt;</span><span class="nt">br</span><span class="p">&gt;&lt;</span><span class="nt">br</span><span class="p">&gt;</span>
           <span class="p">&lt;</span><span class="nt">label</span><span class="p">&gt;</span> Name <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;&lt;</span><span class="nt">br</span><span class="p">&gt;</span>
           <span class="p">&lt;</span><span class="nt">input</span> <span class="na">rows</span><span class="o">=</span><span class="s">&quot;4&quot;</span> <span class="na">cols</span><span class="o">=</span><span class="s">&quot;50&quot;</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&quot;Please enter your name&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;name&quot;</span> <span class="na">required</span><span class="p">&gt;</span>
           <span class="p">&lt;</span><span class="nt">br</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nt">br</span><span class="p">&gt;</span>
           <span class="p">&lt;</span><span class="nt">label</span><span class="p">&gt;</span> Contact Number <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;&lt;</span><span class="nt">br</span><span class="p">&gt;</span>
           <span class="p">&lt;</span><span class="nt">input</span> <span class="na">rows</span><span class="o">=</span><span class="s">&quot;4&quot;</span> <span class="na">cols</span><span class="o">=</span><span class="s">&quot;50&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;contact&quot;</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&quot;Please enter your mobile number&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;number&quot;</span> <span class="na">required</span> <span class="na">onchange</span><span class="o">=</span><span class="s">&quot;validate_num()&quot;</span><span class="p">&gt;</span>
           <span class="p">&lt;</span><span class="nt">br</span><span class="p">&gt;&lt;</span><span class="nt">br</span><span class="p">&gt;</span>
           <span class="p">&lt;</span><span class="nt">label</span><span class="p">&gt;</span> E-Mail <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;&lt;</span><span class="nt">br</span><span class="p">&gt;</span>
           <span class="p">&lt;</span><span class="nt">input</span> <span class="na">rows</span><span class="o">=</span><span class="s">&quot;4&quot;</span> <span class="na">cols</span><span class="o">=</span><span class="s">&quot;50&quot;</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&quot;Please enter your email&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;email&quot;</span> <span class="na">required</span><span class="p">&gt;</span>
           <span class="p">&lt;</span><span class="nt">br</span><span class="p">&gt;&lt;</span><span class="nt">br</span><span class="p">&gt;</span>
           <span class="p">&lt;</span><span class="nt">label</span><span class="p">&gt;</span> Quantity <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;&lt;</span><span class="nt">br</span><span class="p">&gt;</span>
           <span class="p">&lt;</span><span class="nt">input</span> <span class="na">rows</span><span class="o">=</span><span class="s">&quot;4&quot;</span> <span class="na">cols</span><span class="o">=</span><span class="s">&quot;50&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;qty&quot;</span> <span class="na">required</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&quot;Please enter the quantity&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;quantity&quot;</span> <span class="na">onchange</span><span class="o">=</span><span class="s">&quot;check_quantity(); calculate();&quot;</span><span class="p">&gt;</span>
           <span class="p">&lt;</span><span class="nt">br</span><span class="p">&gt;&lt;</span><span class="nt">br</span><span class="p">&gt;</span>
           <span class="p">&lt;</span><span class="nt">label</span><span class="p">&gt;</span> Total <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;&lt;</span><span class="nt">br</span><span class="p">&gt;</span>
           <span class="p">&lt;</span><span class="nt">input</span> <span class="na">rows</span><span class="o">=</span><span class="s">&quot;4&quot;</span> <span class="na">cols</span><span class="o">=</span><span class="s">&quot;50&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;total&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;total&quot;</span> <span class="na">disabled</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">&gt;</span>
           <span class="p">&lt;</span><span class="nt">br</span><span class="p">&gt;&lt;</span><span class="nt">br</span><span class="p">&gt;</span>
           <span class="p">&lt;</span><span class="nt">label</span><span class="p">&gt;</span> Enter Delivery Address <span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;&lt;</span><span class="nt">br</span><span class="p">&gt;</span>
           <span class="p">&lt;</span><span class="nt">textarea</span> <span class="na">rows</span><span class="o">=</span><span class="s">&quot;4&quot;</span> <span class="na">cols</span><span class="o">=</span><span class="s">&quot;50&quot;</span> <span class="na">required</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&quot;Please enter the Delivery address&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;address&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">textarea</span><span class="p">&gt;</span> 
           <span class="p">&lt;</span><span class="nt">br</span><span class="p">&gt;&lt;</span><span class="nt">br</span><span class="p">&gt;</span>
           <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>Above code includes Javascript code as well with the HTML.</p>
<p>In the above code, first we create a <code class="docutils literal"><span class="pre">&lt;div&gt;</span></code> to display the Name, Price and
Quantity of the selected product. We are again using the <code class="docutils literal"><span class="pre">innerHTML</span></code> to
populate this &lt;div&gt;. The product name, price and quantity are extracted from the
window URL.</p>
<p>Next <code class="docutils literal"><span class="pre">&lt;form&gt;</span></code> is created to take User input to deliver the product. The first
three inputs as below :</p>
<div class="highlight-html"><div class="highlight"><pre><span></span>           <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">b</span><span class="p">&gt;</span>Cost per piece: Rs. <span class="p">&lt;/</span><span class="nt">b</span><span class="p">&gt;&lt;</span><span class="nt">b</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;product_price&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">b</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
           <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">b</span><span class="p">&gt;</span>Quantity Available: <span class="p">&lt;/</span><span class="nt">b</span><span class="p">&gt;&lt;</span><span class="nt">b</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;product_quantity&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">b</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
   <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>You can see that <code class="docutils literal"><span class="pre">type=hidden</span></code> is mentioned. So we can not see these fields on
our web page. It is written this way so that we can use these values in our PHP
page.</p>
<p>Then there are simple form fields for user input.</p>
<p>Let us take a look over <code class="docutils literal"><span class="pre">Contact</span> <span class="pre">Number</span></code> field.</p>
<div class="highlight-html"><div class="highlight"><pre><span></span>           <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;radio&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;cr&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;CR&quot;</span><span class="p">&gt;</span> Credit Card<span class="p">&lt;/</span><span class="nt">input</span><span class="p">&gt;</span>
           <span class="p">&lt;</span><span class="nt">br</span><span class="p">&gt;&lt;</span><span class="nt">br</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>We are calling a javascript function <code class="docutils literal"><span class="pre">validate_num()</span></code> when the value in this
field is changed by <code class="docutils literal"><span class="pre">onchange</span></code>. This function is written in the Javascript
file <code class="docutils literal"><span class="pre">payment.js</span></code>.</p>
<div class="highlight-Javascript"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">validate_num</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;contact&#39;</span><span class="p">).</span><span class="nx">value</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">length</span> <span class="o">=</span> <span class="nx">num</span><span class="p">.</span><span class="nx">toString</span><span class="p">().</span><span class="nx">length</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">((</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">)</span> <span class="o">||</span> <span class="p">(</span><span class="nb">isNaN</span><span class="p">(</span><span class="nx">num</span><span class="p">)))</span> <span class="p">{</span>
                <span class="nb">window</span><span class="p">.</span><span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;Invalid Number&quot;</span><span class="p">);</span>
        <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Next we will see the <code class="docutils literal"><span class="pre">Quantity</span></code> field.</p>
<div class="highlight-html"><div class="highlight"><pre><span></span>           <span class="p">&lt;</span><span class="nt">input</span> <span class="na">rows</span><span class="o">=</span><span class="s">&quot;4&quot;</span> <span class="na">cols</span><span class="o">=</span><span class="s">&quot;50&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;contact&quot;</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&quot;Please enter your mobile number&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;number&quot;</span> <span class="na">required</span> <span class="na">onchange</span><span class="o">=</span><span class="s">&quot;validate_num()&quot;</span><span class="p">&gt;</span>
           <span class="p">&lt;</span><span class="nt">br</span><span class="p">&gt;&lt;</span><span class="nt">br</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>Here we are calling two Javascript functions - <code class="docutils literal"><span class="pre">check_quantity</span> <span class="pre">and</span> <span class="pre">calculate</span></code>,
which is written in this same HTML file under <code class="docutils literal"><span class="pre">&lt;script&gt;</span></code> tag.</p>
<p>On Submitting the form, the PHP code <code class="docutils literal"><span class="pre">payment.php</span></code> is called, which is stated
below.</p>
<div class="section" id="php">
<h2>9.2.1. PHP<a class="headerlink" href="#php" title="Permalink to this headline">¶</a></h2>
<p>Let us have a look over this code :</p>
<div class="highlight-PHP"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>

<span class="nv">$name</span> <span class="o">=</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">];</span>
<span class="nv">$address</span> <span class="o">=</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">&#39;address&#39;</span><span class="p">];</span>
<span class="nv">$email</span> <span class="o">=</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">&#39;email&#39;</span><span class="p">];</span>
<span class="nv">$number</span> <span class="o">=</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">&#39;number&#39;</span><span class="p">];</span>
<span class="nv">$prod_name</span> <span class="o">=</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">&#39;prod_name&#39;</span><span class="p">];</span>
<span class="nv">$prod_price</span> <span class="o">=</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">&#39;prod_price&#39;</span><span class="p">];</span>
<span class="nv">$prod_quantity</span> <span class="o">=</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">&#39;prod_quantity&#39;</span><span class="p">];</span>
<span class="nv">$entered_quantity</span> <span class="o">=</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s1">&#39;quantity&#39;</span><span class="p">];</span>
<span class="c1">//$total = $_POST[&#39;total&#39;];</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$entered_quantity</span> <span class="o">&gt;</span> <span class="nv">$prod_quantity</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s2">&quot;&lt;script&gt;</span>
<span class="s2">                alert(</span><span class="se">\&quot;</span><span class="s2">Incorrect quantity</span><span class="se">\&quot;</span><span class="s2">);</span>
<span class="s2">                window.history.go(-1);</span>
<span class="s2">              &lt;/script&gt;&quot;</span><span class="p">;</span>
<span class="p">}</span>

<span class="nv">$total</span> <span class="o">=</span> <span class="nv">$prod_price</span> <span class="o">*</span> <span class="nv">$entered_quantity</span><span class="p">;</span>

<span class="nv">$exp_del_date</span> <span class="o">=</span> <span class="nx">Date</span><span class="p">(</span><span class="s1">&#39;d-m-Y&#39;</span><span class="p">,</span><span class="nb">strtotime</span><span class="p">(</span><span class="s2">&quot;+10 days&quot;</span><span class="p">));</span>

<span class="nv">$rand1</span> <span class="o">=</span> <span class="nb">rand</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span><span class="mi">9999</span><span class="p">);</span>
<span class="nv">$rand2</span> <span class="o">=</span> <span class="nb">rand</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span><span class="mi">9999</span><span class="p">);</span>
<span class="nv">$rand3</span> <span class="o">=</span> <span class="nb">rand</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span><span class="mi">9999</span><span class="p">);</span>
<span class="nv">$sep</span> <span class="o">=</span> <span class="s2">&quot;-&quot;</span><span class="p">;</span>
<span class="nv">$random</span> <span class="o">=</span> <span class="nv">$rand1</span><span class="o">.</span><span class="nv">$sep</span><span class="o">.</span><span class="nv">$rand2</span><span class="o">.</span><span class="nv">$sep</span><span class="o">.</span><span class="nv">$rand3</span><span class="p">;</span>

<span class="nv">$subject</span> <span class="o">=</span> <span class="s2">&quot;Order Placed - &quot;</span><span class="o">.</span><span class="nv">$random</span><span class="p">;</span>
<span class="nv">$msg</span> <span class="o">=</span> <span class="s2">&quot;Hi &quot;</span><span class="o">.</span><span class="nv">$name</span><span class="o">.</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">Your order for &quot;</span><span class="o">.</span><span class="nv">$prod_name</span><span class="o">.</span><span class="s2">&quot; is placed with Ref Id: &quot;</span><span class="o">.</span><span class="nv">$random</span><span class="o">.</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Total Amount is: &quot;</span><span class="o">.</span><span class="nv">$total</span><span class="o">.</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">Expected Delivery by: &quot;</span><span class="o">.</span><span class="nv">$exp_del_date</span><span class="p">;</span>
<span class="nv">$from</span> <span class="o">=</span> <span class="s2">&quot;myzone@myzone.in&quot;</span><span class="p">;</span>
<span class="nv">$header</span> <span class="o">=</span> <span class="s2">&quot;From: </span><span class="si">$from</span><span class="s2">&quot;</span><span class="p">;</span>


<span class="k">if</span> <span class="p">(</span><span class="nb">mail</span><span class="p">(</span><span class="nv">$email</span><span class="p">,</span> <span class="nv">$subject</span><span class="p">,</span> <span class="nv">$msg</span><span class="p">,</span> <span class="nv">$header</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s2">&quot;&lt;script&gt;</span>
<span class="s2">                alert(</span><span class="se">\&quot;</span><span class="s2">Your Order has been Placed with Ref ID - &#39;</span><span class="si">$random</span><span class="s2">&#39;</span><span class="se">\&quot;</span><span class="s2">);</span>
<span class="s2">                window.history.go(-1);</span>
<span class="s2">              &lt;/script&gt;&quot;</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s2">&quot;&lt;script&gt;</span>
<span class="s2">                alert(</span><span class="se">\&quot;</span><span class="s2">Error in placing the Order. Please try again!!</span><span class="se">\&quot;</span><span class="s2">);</span>
<span class="s2">                window.history.go(-1);</span>
<span class="s2">              &lt;/script&gt;&quot;</span><span class="p">;</span>
        
<span class="p">}</span>

<span class="nv">$new_quantity</span> <span class="o">=</span> <span class="nv">$prod_quantity</span> <span class="o">-</span> <span class="nv">$entered_quantity</span><span class="p">;</span>

<span class="k">try</span> <span class="p">{</span>
        <span class="c1">// Query to update the quantity of product</span>
        <span class="nv">$conn</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PDO</span><span class="p">(</span><span class="s1">&#39;mysql:host=localhost;dbname=myzone&#39;</span><span class="p">,</span><span class="s1">&#39;crestrou&#39;</span><span class="p">,</span><span class="s1">&#39;Crestrou!23&#39;</span><span class="p">);</span> 
       
       <span class="c1">//set the PDO error mode to exception</span>
        <span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">setAttribute</span><span class="p">(</span><span class="nx">PDO</span><span class="o">::</span><span class="na">ATTR_ERRMODE</span><span class="p">,</span> <span class="nx">PDO</span><span class="o">::</span><span class="na">ERRMODE_EXCEPTION</span><span class="p">);</span>
        
        <span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">beginTransaction</span><span class="p">();</span>
        <span class="nv">$sql</span> <span class="o">=</span> <span class="s2">&quot;UPDATE product_detail SET prod_quantity = </span><span class="si">$new_quantity</span><span class="s2"> WHERE prod_name=&#39;</span><span class="si">$prod_name</span><span class="s2">&#39;&quot;</span><span class="p">;</span>
        
        <span class="c1">//Prepare statement</span>
        <span class="nv">$stmt</span> <span class="o">=</span> <span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">prepare</span><span class="p">(</span><span class="nv">$sql</span><span class="p">);</span>
        
        <span class="c1">//execute</span>
        <span class="nv">$stmt</span><span class="o">-&gt;</span><span class="na">execute</span><span class="p">();</span>
        
        <span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">commit</span><span class="p">();</span>
        
        <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">PDOException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">echo</span> <span class="nv">$sql</span><span class="o">.</span><span class="s2">&quot;&lt;br&gt;&quot;</span><span class="o">.</span><span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">();</span>
        <span class="p">}</span>

<span class="nv">$conn</span> <span class="o">=</span> <span class="k">null</span><span class="p">;</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<ol class="arabic simple">
<li>First we fetch the data from HTML form using <code class="docutils literal"><span class="pre">$_POST</span></code>.</li>
</ol>
<p>#. Next we have a check for the entered quantity, as it should not be greater
than available quantity.</p>
<ol class="arabic simple">
<li>Then we calculate the total price.</li>
</ol>
<p>#. In line no 22, we are calculating a date which is +10 days than current
system date. This date is used to mention the Expected Delivery date to
customer.</p>
<p>#. Next we create a random-number, which is used to create a <code class="docutils literal"><span class="pre">Reference-Id</span></code> of
the Order Placed.</p>
<ol class="arabic simple">
<li>Below code, is used to draft a mail;</li>
</ol>
<div class="highlight-PHP"><div class="highlight"><pre><span></span><span class="x">$subject = &quot;Order Placed - &quot;.$random;</span>
<span class="x">$msg = &quot;Hi &quot;.$name.&quot;, &quot;.&quot;\n\nYour order for &quot;.$prod_name.&quot; is placed with Ref Id: &quot;.$random.&quot;\nTotal Amount is: &quot;.$total.&quot;\n\nExpected Delivery by: &quot;.$exp_del_date;</span>
<span class="x">$from = &quot;myzone@myzone.in&quot;;</span>
<span class="x">$header = &quot;From: $from&quot;;</span>
</pre></div>
</div>
<ol class="arabic simple">
<li>PHP has a <code class="docutils literal"><span class="pre">mail()</span></code> function which is used to send E-Mails.</li>
<li>Also we need to update the quantity in the database.</li>
</ol>
</div>
</div>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="01_introduction.html">9.1. Payment Page</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        </p>

      </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, Garima Agarwal, Rishi Agrawal.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.6.
    </div>
  </body>
</html>